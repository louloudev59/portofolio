import*as THREE from"three";import gsap from"gsap";import{backgroundFragmentShader,backgroundVertexShader}from"./shader.js";{const a=new THREE.Scene,b=new THREE.WebGLRenderer({antialias:!0}),c=(b.setPixelRatio(window.devicePixelRatio),b.setSize(window.innerWidth,window.innerHeight),new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,1,100)),d=(c.position.set(0,1,2),c.updateProjectionMatrix(),window.addEventListener("resize",()=>{c.aspect=window.innerWidth/window.innerHeight,c.updateProjectionMatrix(),b.setSize(window.innerWidth,window.innerHeight)}),a.background=new THREE.Color(856596),{u_time:{value:0},u_mouse:{value:{x:0,y:0}},u_resolution:{value:{x:window.innerWidth*window.devicePixelRatio,y:window.innerHeight*window.devicePixelRatio}},u_pointsize:{value:1.2},u_noise_freq_1:{value:4},u_noise_amp_1:{value:.4},u_spd_modifier_1:{value:.4},u_noise_freq_2:{value:3},u_noise_amp_2:{value:.3},u_spd_modifier_2:{value:.2}}),e=new THREE.PlaneGeometry(16,16,512,512),f=new THREE.ShaderMaterial({uniforms:d,vertexShader:backgroundVertexShader,fragmentShader:backgroundFragmentShader}),g=new THREE.Points(e,f),h=(a.add(g),g.rotation.x=.25*-Math.PI,document.body),i=(b.domElement.classList.add("background"),b.domElement.classList.add("animate"),h.appendChild(b.domElement),b.render(a,c),new THREE.Clock);function animate(){requestAnimationFrame(animate);var e=i.getElapsedTime();d.u_time.value=e,g.rotation.z+=5e-4,b.render(a,c)}animate(),document.addEventListener("scroll",e=>{switch(e.detail){case 0:gsap.to(c.rotation,{x:0,y:0,z:0,duration:3}),gsap.to(c.position,{z:2,duration:3});break;case 1:gsap.to(c.rotation,{x:.25*-Math.PI,y:0,z:0,duration:3}),gsap.to(c.position,{z:1.5,duration:3});break;case 2:gsap.to(c.rotation,{x:.25*-Math.PI,y:.15*-Math.PI,z:.2*-Math.PI,duration:3}),gsap.to(c.position,{z:1.5,duration:3});break;case 3:gsap.to(c.rotation,{x:.25*-Math.PI,y:0,z:0,duration:3}),gsap.to(c.position,{z:3,duration:5})}})}{let t=0;const m=document.querySelectorAll("article.page").length-1,n=document.querySelector("button.scroll-up"),o=document.querySelector("button.scroll-down"),p=document.querySelector("section.page-container"),q=document.querySelector(".projects"),r=document.querySelector(".contact"),s=document.querySelector(".whoami");function scroll(){var e=t*window.innerHeight;document.dispatchEvent(new CustomEvent("scroll",{detail:t})),p.scroll({top:e,left:0,behavior:"smooth"})}let a=0;document.addEventListener("wheel",e=>{Date.now()-a<500||(0<e.deltaY?t<m&&t++:0<t&&t--,a=Date.now(),scroll())}),n.addEventListener("click",()=>{0<t&&t--,scroll()}),o.addEventListener("click",()=>{t<m&&t++,scroll()}),s.addEventListener("click",()=>{t=1,scroll()}),q.addEventListener("click",()=>{t=2,scroll()}),r.addEventListener("click",()=>{t=3,scroll()})}{const w=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?e.target.classList.add("visible"):e.target.classList.remove("visible")})}),x=document.querySelectorAll(".animate");x.forEach(e=>{w.observe(e)})}{const B=document.querySelector(".cursor-ball"),C=document.querySelector(".cursor-ball-follower"),D=document.querySelectorAll("button, a, input, textarea");D.forEach(e=>{e.addEventListener("mouseenter",()=>{B.classList.add("button-hover"),C.classList.add("button-hover")}),e.addEventListener("mouseleave",()=>{B.classList.remove("button-hover"),C.classList.remove("button-hover")})}),document.addEventListener("mousemove",e=>{B.style.left=e.clientX+"px",B.style.top=e.clientY+"px",C.style.left=e.clientX+"px",C.style.top=e.clientY+"px"}),document.addEventListener("mousedown",()=>{C.classList.add("click")}),document.addEventListener("mouseup",()=>{C.classList.remove("click")})}{const G="Loulou",H="Dev59",I="09-23",J=document.querySelectorAll(".age"),K=new Date,L=new Date(I),M=K-L,N=Math.floor(M/315576e5),O=(J.forEach(e=>{e.textContent=N}),document.querySelector(".big-name")),P=Object.freeze(["*","!","?","#","$","%","&","@","+","=","-","_","(",")","[","]","{","}","<",">","~","^",":",";","|","/","\\"]),Q=()=>P[Math.floor(Math.random()*P.length)],R=G+" "+H;let t="";for(let e=0;e<R.length;e++)t+=Q();let n=0;O.textContent=t,O.dataset.content=t;const U=setInterval(()=>{n+=.25;let t=R.slice(0,n);console.log(t);for(let e=0;e<R.length-n;e++)t+=Q();if(O.textContent=t,O.dataset.content=t,!(n<R.length))return clearInterval(U)},25)}